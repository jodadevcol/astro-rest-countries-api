---
import CountriesData from "../../mooks/countries-info.json"
import CardCountry from "./CardCountry.astro"

const countries = CountriesData?.countries
if (!countries) {
	console.error("No countries data found")
}
---

<div>
	<ul class="grid gap-16" style="grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));">
		{
			countries &&
				countries.slice(0, 20).map((country) => (
					<li class="h-full overflow-hidden rounded-md">
						<CardCountry
							country={{
								alpha3Code: country.alpha3Code,
								flags: country.flags,
								name: country.name,
								population: country.population,
								region: country.region,
								capital: country.capital as string,
							}}
						/>
					</li>
				))
		}
	</ul>

	<hr class="my-12 border-dark-100/40" />

	<div class="flex items-center justify-center">
		<button
			class="inline-flex max-w-max items-center justify-center space-x-2 rounded-md bg-dark-100 px-4 py-2 text-white hover:bg-dark-100/40 hover:text-white/50"
		>
			<div class="hidden h-5 w-5">
				<span class="h-full w-full [&>svg]:h-full [&>svg]:w-full">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						viewBox="0 0 24 24"
						fill="currentColor"
						class="size-6"
					>
						<path
							fill-rule="evenodd"
							d="M9.53 2.47a.75.75 0 0 1 0 1.06L4.81 8.25H15a6.75 6.75 0 0 1 0 13.5h-3a.75.75 0 0 1 0-1.5h3a5.25 5.25 0 1 0 0-10.5H4.81l4.72 4.72a.75.75 0 1 1-1.06 1.06l-6-6a.75.75 0 0 1 0-1.06l6-6a.75.75 0 0 1 1.06 0Z"
							clip-rule="evenodd"></path>
					</svg>
				</span>
			</div>
			<span class="whitespace-nowrap">Load more countries</span>
		</button>
	</div>
</div>
